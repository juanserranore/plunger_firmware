<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PLUNGER CONTROLLER: uIP device driver functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PLUNGER CONTROLLER<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__uipdevfunc.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">uIP device driver functions<div class="ingroups"><a class="el" href="group__uip.html">The uIP TCP/IP stack</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa4360412ee9350fba725f98a137169fe" id="r_gaa4360412ee9350fba725f98a137169fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa4360412ee9350fba725f98a137169fe">uip_input</a>()</td></tr>
<tr class="separator:gaa4360412ee9350fba725f98a137169fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1024f8a5fa65e82bf848b2e6590d9628" id="r_ga1024f8a5fa65e82bf848b2e6590d9628"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic</a>(conn)</td></tr>
<tr class="separator:ga1024f8a5fa65e82bf848b2e6590d9628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd5ebb56a1bd1da9878aa886a2075e80" id="r_gafd5ebb56a1bd1da9878aa886a2075e80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafd5ebb56a1bd1da9878aa886a2075e80">uip_conn_active</a>(conn)</td></tr>
<tr class="separator:gafd5ebb56a1bd1da9878aa886a2075e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaf0bb2b6a4424b4eb69e45e457c2583" id="r_gabaf0bb2b6a4424b4eb69e45e457c2583"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabaf0bb2b6a4424b4eb69e45e457c2583">uip_periodic_conn</a>(conn)</td></tr>
<tr class="separator:gabaf0bb2b6a4424b4eb69e45e457c2583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf20aaf4292cb0d2a1b10bc0a568b51fa" id="r_gaf20aaf4292cb0d2a1b10bc0a568b51fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf20aaf4292cb0d2a1b10bc0a568b51fa">uip_poll_conn</a>(conn)</td></tr>
<tr class="separator:gaf20aaf4292cb0d2a1b10bc0a568b51fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c64c8c36bc84f9336f6a2184ea51883" id="r_ga2c64c8c36bc84f9336f6a2184ea51883"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2c64c8c36bc84f9336f6a2184ea51883">uip_udp_periodic</a>(conn)</td></tr>
<tr class="separator:ga2c64c8c36bc84f9336f6a2184ea51883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5c2ad5acf3cc23b8262e9ba6a15136b" id="r_gaf5c2ad5acf3cc23b8262e9ba6a15136b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf5c2ad5acf3cc23b8262e9ba6a15136b">uip_udp_periodic_conn</a>(conn)</td></tr>
<tr class="separator:gaf5c2ad5acf3cc23b8262e9ba6a15136b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gab81e78f890dbbee50c533a9734b74fd9" id="r_gab81e78f890dbbee50c533a9734b74fd9"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab81e78f890dbbee50c533a9734b74fd9">uip_buf</a> [<a class="el" href="group__uipopt.html#ga3589822ecb9d9c4145209756396b8a6b">UIP_BUFSIZE</a>+2]</td></tr>
<tr class="separator:gab81e78f890dbbee50c533a9734b74fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions are used by a network device driver for interacting with uIP. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gafd5ebb56a1bd1da9878aa886a2075e80" name="gafd5ebb56a1bd1da9878aa886a2075e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd5ebb56a1bd1da9878aa886a2075e80">&#9670;&#160;</a></span>uip_conn_active</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_conn_active</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(uip_conns[conn].tcpstateflags != UIP_CLOSED)</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa4360412ee9350fba725f98a137169fe" name="gaa4360412ee9350fba725f98a137169fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4360412ee9350fba725f98a137169fe">&#9670;&#160;</a></span>uip_input</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_input</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process an incoming packet.</p>
<p>This function should be called when the device driver has received a packet from the network. The packet from the device driver must be present in the uip_buf buffer, and the length of the packet should be placed in the uip_len variable.</p>
<p>When the function returns, there may be an outbound packet placed in the uip_buf packet buffer. If so, the uip_len variable is set to the length of the packet. If no packet is to be sent out, the uip_len variable is set to 0.</p>
<p>The usual way of calling the function is presented by the source code below. </p><div class="fragment"><div class="line"><a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> = devicedriver_poll();</div>
<div class="line"><span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">  <a class="code hl_define" href="#gaa4360412ee9350fba725f98a137169fe">uip_input</a>();</div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">    devicedriver_send();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__uip_html_ga12a33f0c09711167bdf3dd7d7cf8c5a1"><div class="ttname"><a href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a></div><div class="ttdeci">u16_t uip_len</div><div class="ttdef"><b>Definition</b> uip.c:155</div></div>
<div class="ttc" id="agroup__uipdevfunc_html_gaa4360412ee9350fba725f98a137169fe"><div class="ttname"><a href="#gaa4360412ee9350fba725f98a137169fe">uip_input</a></div><div class="ttdeci">#define uip_input()</div><div class="ttdef"><b>Definition</b> uip.h:257</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If you are writing a uIP device driver that needs ARP (Address Resolution Protocol), e.g., when running uIP over Ethernet, you will need to call the uIP ARP code before calling this function: <div class="fragment"><div class="line"><span class="preprocessor">#define BUF ((struct uip_eth_hdr *)&amp;uip_buf[0])</span></div>
<div class="line"><a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> = ethernet_devicedrver_poll();</div>
<div class="line"><span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">  <span class="keywordflow">if</span>(BUF-&gt;type == <a class="code hl_define" href="group__uipconvfunc.html#ga69a7a4951ff21b302267532c21ee78fc">HTONS</a>(UIP_ETHTYPE_IP)) {</div>
<div class="line">    <a class="code hl_function" href="group__uiparp.html#ga5cf8d6974a89ad67c5faf9b19261cb7c">uip_arp_ipin</a>();</div>
<div class="line">    <a class="code hl_define" href="#gaa4360412ee9350fba725f98a137169fe">uip_input</a>();</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">      <a class="code hl_function" href="group__uiparp.html#ga54b27e45df15e10a0eb1a3e3a91417d2">uip_arp_out</a>();</div>
<div class="line">  ethernet_devicedriver_send();</div>
<div class="line">    }</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(BUF-&gt;type == <a class="code hl_define" href="group__uipconvfunc.html#ga69a7a4951ff21b302267532c21ee78fc">HTONS</a>(UIP_ETHTYPE_ARP)) {</div>
<div class="line">    <a class="code hl_function" href="group__uiparp.html#ga902c4a360134096224bc2655f623aa5f">uip_arp_arpin</a>();</div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">  ethernet_devicedriver_send();</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="ttc" id="agroup__uiparp_html_ga54b27e45df15e10a0eb1a3e3a91417d2"><div class="ttname"><a href="group__uiparp.html#ga54b27e45df15e10a0eb1a3e3a91417d2">uip_arp_out</a></div><div class="ttdeci">void uip_arp_out(void)</div><div class="ttdef"><b>Definition</b> uip_arp.c:353</div></div>
<div class="ttc" id="agroup__uiparp_html_ga5cf8d6974a89ad67c5faf9b19261cb7c"><div class="ttname"><a href="group__uiparp.html#ga5cf8d6974a89ad67c5faf9b19261cb7c">uip_arp_ipin</a></div><div class="ttdeci">void uip_arp_ipin(void)</div><div class="ttdef"><b>Definition</b> uip_arp.c:234</div></div>
<div class="ttc" id="agroup__uiparp_html_ga902c4a360134096224bc2655f623aa5f"><div class="ttname"><a href="group__uiparp.html#ga902c4a360134096224bc2655f623aa5f">uip_arp_arpin</a></div><div class="ttdeci">void uip_arp_arpin(void)</div><div class="ttdef"><b>Definition</b> uip_arp.c:277</div></div>
<div class="ttc" id="agroup__uipconvfunc_html_ga69a7a4951ff21b302267532c21ee78fc"><div class="ttname"><a href="group__uipconvfunc.html#ga69a7a4951ff21b302267532c21ee78fc">HTONS</a></div><div class="ttdeci">#define HTONS(n)</div><div class="ttdef"><b>Definition</b> uip.h:1070</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ga1024f8a5fa65e82bf848b2e6590d9628" name="ga1024f8a5fa65e82bf848b2e6590d9628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1024f8a5fa65e82bf848b2e6590d9628">&#9670;&#160;</a></span>uip_periodic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_periodic</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Periodic processing for a connection identified by its number.</p>
<p>This function does the necessary periodic processing (timers, polling) for a uIP TCP conneciton, and should be called when the periodic uIP timer goes off. It should be called for every connection, regardless of whether they are open of closed.</p>
<p>When the function returns, it may have an outbound packet waiting for service in the uIP packet buffer, and if so the uip_len variable is set to a value larger than zero. The device driver should be called to send out the packet.</p>
<p>The ususal way of calling the function is through a for() loop like this: </p><div class="fragment"><div class="line"><span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="group__uipopt.html#gaf5fe83be78b78b9e7d9e7f1e34ab1cc5">UIP_CONNS</a>; ++i) {</div>
<div class="line">  <a class="code hl_define" href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic</a>(i);</div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">    devicedriver_send();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__uipdevfunc_html_ga1024f8a5fa65e82bf848b2e6590d9628"><div class="ttname"><a href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic</a></div><div class="ttdeci">#define uip_periodic(conn)</div><div class="ttdef"><b>Definition</b> uip.h:301</div></div>
<div class="ttc" id="agroup__uipopt_html_gaf5fe83be78b78b9e7d9e7f1e34ab1cc5"><div class="ttname"><a href="group__uipopt.html#gaf5fe83be78b78b9e7d9e7f1e34ab1cc5">UIP_CONNS</a></div><div class="ttdeci">#define UIP_CONNS</div><div class="ttdef"><b>Definition</b> uipopt.h:259</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If you are writing a uIP device driver that needs ARP (Address Resolution Protocol), e.g., when running uIP over Ethernet, you will need to call the <a class="el" href="group__uiparp.html#ga54b27e45df15e10a0eb1a3e3a91417d2">uip_arp_out()</a> function before calling the device driver: <div class="fragment"><div class="line"><span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="group__uipopt.html#gaf5fe83be78b78b9e7d9e7f1e34ab1cc5">UIP_CONNS</a>; ++i) {</div>
<div class="line">  <a class="code hl_define" href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic</a>(i);</div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">    <a class="code hl_function" href="group__uiparp.html#ga54b27e45df15e10a0eb1a3e3a91417d2">uip_arp_out</a>();</div>
<div class="line">    ethernet_devicedriver_send();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The number of the connection which is to be periodically polled. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabaf0bb2b6a4424b4eb69e45e457c2583" name="gabaf0bb2b6a4424b4eb69e45e457c2583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabaf0bb2b6a4424b4eb69e45e457c2583">&#9670;&#160;</a></span>uip_periodic_conn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_periodic_conn</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform periodic processing for a connection identified by a pointer to its structure.</p>
<p>Same as <a class="el" href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic()</a> but takes a pointer to the actual <a class="el" href="structuip__conn.html">uip_conn</a> struct instead of an integer as its argument. This function can be used to force periodic processing of a specific connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A pointer to the <a class="el" href="structuip__conn.html">uip_conn</a> struct for the connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf20aaf4292cb0d2a1b10bc0a568b51fa" name="gaf20aaf4292cb0d2a1b10bc0a568b51fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf20aaf4292cb0d2a1b10bc0a568b51fa">&#9670;&#160;</a></span>uip_poll_conn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_poll_conn</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reuqest that a particular connection should be polled.</p>
<p>Similar to <a class="el" href="#gabaf0bb2b6a4424b4eb69e45e457c2583">uip_periodic_conn()</a> but does not perform any timer processing. The application is polled for new data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A pointer to the <a class="el" href="structuip__conn.html">uip_conn</a> struct for the connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2c64c8c36bc84f9336f6a2184ea51883" name="ga2c64c8c36bc84f9336f6a2184ea51883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c64c8c36bc84f9336f6a2184ea51883">&#9670;&#160;</a></span>uip_udp_periodic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_udp_periodic</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Periodic processing for a UDP connection identified by its number.</p>
<p>This function is essentially the same as <a class="el" href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic()</a>, but for UDP connections. It is called in a similar fashion as the <a class="el" href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic()</a> function: </p><div class="fragment"><div class="line"><span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="group__uipopt.html#ga196379ceb1219a99f4495e41ccc9bbfb">UIP_UDP_CONNS</a>; i++) {</div>
<div class="line">  <a class="code hl_define" href="#ga2c64c8c36bc84f9336f6a2184ea51883">uip_udp_periodic</a>(i);</div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">    devicedriver_send();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__uipdevfunc_html_ga2c64c8c36bc84f9336f6a2184ea51883"><div class="ttname"><a href="#ga2c64c8c36bc84f9336f6a2184ea51883">uip_udp_periodic</a></div><div class="ttdeci">#define uip_udp_periodic(conn)</div><div class="ttdef"><b>Definition</b> uip.h:373</div></div>
<div class="ttc" id="agroup__uipopt_html_ga196379ceb1219a99f4495e41ccc9bbfb"><div class="ttname"><a href="group__uipopt.html#ga196379ceb1219a99f4495e41ccc9bbfb">UIP_UDP_CONNS</a></div><div class="ttdeci">#define UIP_UDP_CONNS</div><div class="ttdef"><b>Definition</b> uipopt.h:216</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>As for the <a class="el" href="#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic()</a> function, special care has to be taken when using uIP together with ARP and Ethernet: <div class="fragment"><div class="line"><span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="group__uipopt.html#ga196379ceb1219a99f4495e41ccc9bbfb">UIP_UDP_CONNS</a>; i++) {</div>
<div class="line">  <a class="code hl_define" href="#ga2c64c8c36bc84f9336f6a2184ea51883">uip_udp_periodic</a>(i);</div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &gt; 0) {</div>
<div class="line">    <a class="code hl_function" href="group__uiparp.html#ga54b27e45df15e10a0eb1a3e3a91417d2">uip_arp_out</a>();</div>
<div class="line">    ethernet_devicedriver_send();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The number of the UDP connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf5c2ad5acf3cc23b8262e9ba6a15136b" name="gaf5c2ad5acf3cc23b8262e9ba6a15136b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5c2ad5acf3cc23b8262e9ba6a15136b">&#9670;&#160;</a></span>uip_udp_periodic_conn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_udp_periodic_conn</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>conn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Periodic processing for a UDP connection identified by a pointer to its structure.</p>
<p>Same as <a class="el" href="#ga2c64c8c36bc84f9336f6a2184ea51883">uip_udp_periodic()</a> but takes a pointer to the actual <a class="el" href="structuip__conn.html">uip_conn</a> struct instead of an integer as its argument. This function can be used to force periodic processing of a specific connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A pointer to the <a class="el" href="structuip__udp__conn.html">uip_udp_conn</a> struct for the connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gab81e78f890dbbee50c533a9734b74fd9" name="gab81e78f890dbbee50c533a9734b74fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab81e78f890dbbee50c533a9734b74fd9">&#9670;&#160;</a></span>uip_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u8_t uip_buf[<a class="el" href="group__uipopt.html#ga3589822ecb9d9c4145209756396b8a6b">UIP_BUFSIZE</a>+2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The uIP packet buffer.</p>
<p>The uip_buf array is used to hold incoming and outgoing packets. The device driver should place incoming data into this buffer. When sending data, the device driver should read the link level headers and the TCP/IP headers from this buffer. The size of the link level headers is configured by the UIP_LLH_LEN define.</p>
<dl class="section note"><dt>Note</dt><dd>The application data need not be placed in this buffer, so the device driver must read it from the place pointed to by the uip_appdata pointer as illustrated by the following example: <div class="fragment"><div class="line"><span class="keywordtype">void</span></div>
<div class="line">devicedriver_send(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   hwsend(&amp;<a class="code hl_variable" href="group__uip.html#gab81e78f890dbbee50c533a9734b74fd9">uip_buf</a>[0], <a class="code hl_define" href="group__uipopt.html#gae6f4a2453dbd8bc60e6a82774552366a">UIP_LLH_LEN</a>);</div>
<div class="line">   <span class="keywordflow">if</span>(<a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> &lt;= <a class="code hl_define" href="group__uipopt.html#gae6f4a2453dbd8bc60e6a82774552366a">UIP_LLH_LEN</a> + UIP_TCPIP_HLEN) {</div>
<div class="line">     hwsend(&amp;<a class="code hl_variable" href="group__uip.html#gab81e78f890dbbee50c533a9734b74fd9">uip_buf</a>[<a class="code hl_define" href="group__uipopt.html#gae6f4a2453dbd8bc60e6a82774552366a">UIP_LLH_LEN</a>], <a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> - <a class="code hl_define" href="group__uipopt.html#gae6f4a2453dbd8bc60e6a82774552366a">UIP_LLH_LEN</a>);</div>
<div class="line">   } <span class="keywordflow">else</span> {</div>
<div class="line">     hwsend(&amp;<a class="code hl_variable" href="group__uip.html#gab81e78f890dbbee50c533a9734b74fd9">uip_buf</a>[<a class="code hl_define" href="group__uipopt.html#gae6f4a2453dbd8bc60e6a82774552366a">UIP_LLH_LEN</a>], UIP_TCPIP_HLEN);</div>
<div class="line">     hwsend(<a class="code hl_variable" href="group__uip.html#ga561b8eda32e059d4e7397f776268cc63">uip_appdata</a>, <a class="code hl_variable" href="group__uip.html#ga12a33f0c09711167bdf3dd7d7cf8c5a1">uip_len</a> - UIP_TCPIP_HLEN - <a class="code hl_define" href="group__uipopt.html#gae6f4a2453dbd8bc60e6a82774552366a">UIP_LLH_LEN</a>);</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__uip_html_ga561b8eda32e059d4e7397f776268cc63"><div class="ttname"><a href="group__uip.html#ga561b8eda32e059d4e7397f776268cc63">uip_appdata</a></div><div class="ttdeci">void * uip_appdata</div><div class="ttdef"><b>Definition</b> uip.c:143</div></div>
<div class="ttc" id="agroup__uip_html_gab81e78f890dbbee50c533a9734b74fd9"><div class="ttname"><a href="group__uip.html#gab81e78f890dbbee50c533a9734b74fd9">uip_buf</a></div><div class="ttdeci">u8_t uip_buf[UIP_BUFSIZE+2]</div><div class="ttdef"><b>Definition</b> uip.c:139</div></div>
<div class="ttc" id="agroup__uipopt_html_gae6f4a2453dbd8bc60e6a82774552366a"><div class="ttname"><a href="group__uipopt.html#gae6f4a2453dbd8bc60e6a82774552366a">UIP_LLH_LEN</a></div><div class="ttdeci">#define UIP_LLH_LEN</div><div class="ttdef"><b>Definition</b> uipopt.h:464</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
